Jul-05 15:48:35.743 [main] DEBUG nextflow.cli.Launcher - $> nextflow run main.nf --input ./test_data --resultsDir ./test_results --threads 8 --ram '32 GB' -profile test -resume
Jul-05 15:48:35.798 [main] DEBUG nextflow.cli.CmdRun - N E X T F L O W  ~  version 25.04.4
Jul-05 15:48:35.814 [main] DEBUG nextflow.plugin.PluginsFacade - Setting up plugin manager > mode=prod; embedded=false; plugins-dir=/home/phemarajata/.nextflow/plugins; core-plugins: nf-amazon@2.15.0,nf-azure@1.16.0,nf-cloudcache@0.4.3,nf-codecommit@0.2.3,nf-console@1.2.1,nf-google@1.21.0,nf-k8s@1.0.0,nf-tower@1.11.3,nf-wave@1.12.1
Jul-05 15:48:35.829 [main] INFO  o.pf4j.DefaultPluginStatusProvider - Enabled plugins: []
Jul-05 15:48:35.829 [main] INFO  o.pf4j.DefaultPluginStatusProvider - Disabled plugins: []
Jul-05 15:48:35.831 [main] INFO  org.pf4j.DefaultPluginManager - PF4J version 3.12.0 in 'deployment' mode
Jul-05 15:48:35.844 [main] INFO  org.pf4j.AbstractPluginManager - No plugins
Jul-05 15:48:35.860 [main] DEBUG nextflow.config.ConfigBuilder - Found config local: /home/phemarajata/combined_poppunk_poppipe/nextflow.config
Jul-05 15:48:35.862 [main] DEBUG nextflow.config.ConfigBuilder - Parsing config file: /home/phemarajata/combined_poppunk_poppipe/nextflow.config
Jul-05 15:48:35.881 [main] DEBUG n.secret.LocalSecretsProvider - Secrets store: /home/phemarajata/.nextflow/secrets/store.json
Jul-05 15:48:35.884 [main] DEBUG nextflow.secret.SecretsLoader - Discovered secrets providers: [nextflow.secret.LocalSecretsProvider@aed0151] - activable => nextflow.secret.LocalSecretsProvider@aed0151
Jul-05 15:48:35.894 [main] DEBUG nextflow.config.ConfigBuilder - Applying config profile: `test`
Jul-05 15:48:36.600 [main] DEBUG nextflow.config.ConfigBuilder - Available config profiles: [standard, slurm, pbs, test, conda, singularity, aws, local, docker]
Jul-05 15:48:36.644 [main] DEBUG nextflow.cli.CmdRun - Applied DSL=2 from script declaration
Jul-05 15:48:36.657 [main] DEBUG nextflow.cli.CmdRun - Launching `main.nf` [sad_bhaskara] DSL2 - revision: 978c755289
Jul-05 15:48:36.658 [main] DEBUG nextflow.plugin.PluginsFacade - Plugins default=[]
Jul-05 15:48:36.658 [main] DEBUG nextflow.plugin.PluginsFacade - Plugins resolved requirement=[]
Jul-05 15:48:36.696 [main] DEBUG nextflow.Session - Session UUID: d6669822-f6b0-489c-8543-5dd285d5c396
Jul-05 15:48:36.696 [main] DEBUG nextflow.Session - Run name: sad_bhaskara
Jul-05 15:48:36.696 [main] DEBUG nextflow.Session - Executor pool size: 22
Jul-05 15:48:36.702 [main] DEBUG nextflow.file.FilePorter - File porter settings maxRetries=3; maxTransfers=50; pollTimeout=null
Jul-05 15:48:36.707 [main] DEBUG nextflow.util.ThreadPoolBuilder - Creating thread pool 'FileTransfer' minSize=10; maxSize=66; workQueue=LinkedBlockingQueue[-1]; allowCoreThreadTimeout=false
Jul-05 15:48:36.722 [main] DEBUG nextflow.cli.CmdRun - 
  Version: 25.04.4 build 5950
  Created: 16-06-2025 14:23 UTC (21:23 ICST)
  System: Linux 6.11.0-29-generic
  Runtime: Groovy 4.0.26 on Java HotSpot(TM) 64-Bit Server VM 17.0.12+8-LTS-286
  Encoding: UTF-8 (UTF-8)
  Process: 2567033@phemarajata-Stealth-16-MercedesAMG-A1VGG [127.0.1.1]
  CPUs: 22 - Mem: 62.3 GB (2.4 GB) - Swap: 8 GB (7.1 GB)
Jul-05 15:48:36.738 [main] DEBUG nextflow.Session - Work-dir: /home/phemarajata/combined_poppunk_poppipe/work [ext2/ext3]
Jul-05 15:48:36.760 [main] DEBUG nextflow.executor.ExecutorFactory - Extension executors providers=[]
Jul-05 15:48:36.768 [main] DEBUG nextflow.Session - Observer factory: DefaultObserverFactory
Jul-05 15:48:36.789 [main] DEBUG nextflow.Session - Observer factory (v2): LinObserverFactory
Jul-05 15:48:36.810 [main] DEBUG nextflow.cache.CacheFactory - Using Nextflow cache factory: nextflow.cache.DefaultCacheFactory
Jul-05 15:48:36.818 [main] DEBUG nextflow.util.CustomThreadPool - Creating default thread pool > poolSize: 23; maxThreads: 1000
Jul-05 15:48:36.881 [main] DEBUG nextflow.Session - Session start
Jul-05 15:48:36.884 [main] DEBUG nextflow.trace.TraceFileObserver - Workflow started -- trace file: /home/phemarajata/combined_poppunk_poppipe/test_results/reports/trace.txt
Jul-05 15:48:36.885 [main] DEBUG nextflow.Session - Trace file already exists: /home/phemarajata/combined_poppunk_poppipe/test_results/reports/trace.txt -- enable the 'trace.overwrite' option in your config file to overwrite existing files
nextflow.exception.AbortOperationException: Trace file already exists: /home/phemarajata/combined_poppunk_poppipe/test_results/reports/trace.txt -- enable the 'trace.overwrite' option in your config file to overwrite existing files
	at nextflow.trace.TraceHelper.newFileWriter(TraceHelper.groovy:67)
	at nextflow.trace.TraceFileObserver.onFlowCreate(TraceFileObserver.groovy:206)
	at nextflow.Session$_notifyFlowCreate_lambda40.doCall(Session.groovy:1093)
	at nextflow.Session.notifyEvent(Session.groovy:1138)
	at nextflow.Session.notifyFlowCreate(Session.groovy:1093)
	at nextflow.Session.start(Session.groovy:585)
	at nextflow.script.ScriptRunner.execute(ScriptRunner.groovy:133)
	at nextflow.cli.CmdRun.run(CmdRun.groovy:379)
	at nextflow.cli.Launcher.run(Launcher.groovy:513)
	at nextflow.cli.Launcher.main(Launcher.groovy:673)
Caused by: java.nio.file.FileAlreadyExistsException: /home/phemarajata/combined_poppunk_poppipe/test_results/reports/trace.txt
	at java.base/sun.nio.fs.UnixException.translateToIOException(UnixException.java:94)
	at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:106)
	at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:111)
	at java.base/sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:218)
	at java.base/java.nio.file.spi.FileSystemProvider.newOutputStream(FileSystemProvider.java:484)
	at java.base/java.nio.file.Files.newOutputStream(Files.java:228)
	at java.base/java.nio.file.Files.newBufferedWriter(Files.java:3008)
	at nextflow.trace.TraceHelper.newFileWriter(TraceHelper.groovy:64)
	... 9 common frames omitted
Jul-05 15:48:36.888 [main] DEBUG nextflow.Session - Report file already exists: /home/phemarajata/combined_poppunk_poppipe/test_results/reports/execution_report.html -- enable the 'report.overwrite' option in your config file to overwrite existing files
nextflow.exception.AbortOperationException: Report file already exists: /home/phemarajata/combined_poppunk_poppipe/test_results/reports/execution_report.html -- enable the 'report.overwrite' option in your config file to overwrite existing files
	at nextflow.trace.ReportObserver.onFlowCreate(ReportObserver.groovy:133)
	at nextflow.Session$_notifyFlowCreate_lambda40.doCall(Session.groovy:1093)
	at nextflow.Session.notifyEvent(Session.groovy:1138)
	at nextflow.Session.notifyFlowCreate(Session.groovy:1093)
	at nextflow.Session.start(Session.groovy:585)
	at nextflow.script.ScriptRunner.execute(ScriptRunner.groovy:133)
	at nextflow.cli.CmdRun.run(CmdRun.groovy:379)
	at nextflow.cli.Launcher.run(Launcher.groovy:513)
	at nextflow.cli.Launcher.main(Launcher.groovy:673)
Jul-05 15:48:36.888 [main] DEBUG nextflow.Session - Timeline file already exists: /home/phemarajata/combined_poppunk_poppipe/test_results/reports/timeline.html -- enable the 'timeline.overwrite' option in your config file to overwrite existing files
nextflow.exception.AbortOperationException: Timeline file already exists: /home/phemarajata/combined_poppunk_poppipe/test_results/reports/timeline.html -- enable the 'timeline.overwrite' option in your config file to overwrite existing files
	at nextflow.trace.TimelineObserver.onFlowCreate(TimelineObserver.groovy:76)
	at nextflow.Session$_notifyFlowCreate_lambda40.doCall(Session.groovy:1093)
	at nextflow.Session.notifyEvent(Session.groovy:1138)
	at nextflow.Session.notifyFlowCreate(Session.groovy:1093)
	at nextflow.Session.start(Session.groovy:585)
	at nextflow.script.ScriptRunner.execute(ScriptRunner.groovy:133)
	at nextflow.cli.CmdRun.run(CmdRun.groovy:379)
	at nextflow.cli.Launcher.run(Launcher.groovy:513)
	at nextflow.cli.Launcher.main(Launcher.groovy:673)
Jul-05 15:48:36.889 [main] DEBUG nextflow.Session - DAG file already exists: /home/phemarajata/combined_poppunk_poppipe/test_results/reports/pipeline_dag.html -- enable `dag.overwrite` in your config file to overwrite existing DAG files
nextflow.exception.AbortOperationException: DAG file already exists: /home/phemarajata/combined_poppunk_poppipe/test_results/reports/pipeline_dag.html -- enable `dag.overwrite` in your config file to overwrite existing DAG files
	at org.codehaus.groovy.vmplugin.v8.IndyInterface.fromCache(IndyInterface.java:321)
	at nextflow.trace.GraphObserver.onFlowCreate(GraphObserver.groovy:77)
	at nextflow.Session$_notifyFlowCreate_lambda40.doCall(Session.groovy:1093)
	at nextflow.Session.notifyEvent(Session.groovy:1138)
	at nextflow.Session.notifyFlowCreate(Session.groovy:1093)
	at nextflow.Session.start(Session.groovy:585)
	at nextflow.script.ScriptRunner.execute(ScriptRunner.groovy:133)
	at nextflow.cli.CmdRun.run(CmdRun.groovy:379)
	at nextflow.cli.Launcher.run(Launcher.groovy:513)
	at nextflow.cli.Launcher.main(Launcher.groovy:673)
Jul-05 15:48:37.105 [main] DEBUG nextflow.script.ScriptRunner - > Launching execution
Jul-05 15:48:37.115 [main] INFO  nextflow.script.BaseScript - ▶ FASTA input directory:  ./test_data
Jul-05 15:48:37.117 [main] INFO  nextflow.script.BaseScript - ▶ Results directory:      ./test_results
Jul-05 15:48:37.118 [main] INFO  nextflow.script.BaseScript - ▶ Threads / RAM:          8  /  32 GB
Jul-05 15:48:37.707 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withName:VALIDATE_FASTA` matches process VALIDATE_FASTA
Jul-05 15:48:37.707 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withName:VALIDATE_FASTA|SUMMARY_REPORT|SPLIT_STRAINS|CLUSTER_SUMMARY` matches process VALIDATE_FASTA
Jul-05 15:48:37.712 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: local
Jul-05 15:48:37.713 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Jul-05 15:48:37.716 [main] DEBUG nextflow.executor.Executor - [warm up] executor > local
Jul-05 15:48:37.720 [main] DEBUG n.processor.LocalPollingMonitor - Creating local task monitor for executor 'local' > cpus=22; memory=62.3 GB; capacity=22; pollInterval=100ms; dumpInterval=5m
Jul-05 15:48:37.721 [main] DEBUG n.processor.TaskPollingMonitor - >>> barrier register (monitor: local)
Jul-05 15:48:37.735 [main] DEBUG nextflow.processor.TaskProcessor - Creating process 'VALIDATE_FASTA': maxForks=0; fair=false; array=0
Jul-05 15:48:37.773 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withName:MASH_SKETCH` matches process MASH_SKETCH
Jul-05 15:48:37.773 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withName:MASH_SKETCH|MASH_DIST` matches process MASH_SKETCH
Jul-05 15:48:37.774 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: local
Jul-05 15:48:37.774 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Jul-05 15:48:37.775 [main] DEBUG nextflow.processor.TaskProcessor - Creating process 'MASH_SKETCH': maxForks=0; fair=false; array=0
Jul-05 15:48:37.778 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withName:MASH_DIST` matches process MASH_DIST
Jul-05 15:48:37.778 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withName:MASH_SKETCH|MASH_DIST` matches process MASH_DIST
Jul-05 15:48:37.779 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: local
Jul-05 15:48:37.779 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Jul-05 15:48:37.780 [main] DEBUG nextflow.processor.TaskProcessor - Creating process 'MASH_DIST': maxForks=0; fair=false; array=0
Jul-05 15:48:37.783 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withName:BIN_SUBSAMPLE` matches process BIN_SUBSAMPLE
Jul-05 15:48:37.784 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: local
Jul-05 15:48:37.785 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Jul-05 15:48:37.785 [main] DEBUG nextflow.processor.TaskProcessor - Creating process 'BIN_SUBSAMPLE': maxForks=0; fair=false; array=0
Jul-05 15:48:37.790 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withName:POPPUNK_MODEL` matches process POPPUNK_MODEL
Jul-05 15:48:37.790 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withName:POPPUNK_MODEL|POPPUNK_ASSIGN` matches process POPPUNK_MODEL
Jul-05 15:48:37.792 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: local
Jul-05 15:48:37.792 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Jul-05 15:48:37.793 [main] DEBUG nextflow.processor.TaskProcessor - Creating process 'POPPUNK_MODEL': maxForks=0; fair=false; array=0
Jul-05 15:48:37.798 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withName:POPPUNK_ASSIGN` matches process POPPUNK_ASSIGN
Jul-05 15:48:37.799 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withName:POPPUNK_MODEL|POPPUNK_ASSIGN` matches process POPPUNK_ASSIGN
Jul-05 15:48:37.799 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: local
Jul-05 15:48:37.800 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Jul-05 15:48:37.809 [main] DEBUG nextflow.processor.TaskProcessor - Creating process 'POPPUNK_ASSIGN': maxForks=0; fair=false; array=0
Jul-05 15:48:37.815 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withName:SUMMARY_REPORT` matches process SUMMARY_REPORT
Jul-05 15:48:37.816 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withName:VALIDATE_FASTA|SUMMARY_REPORT|SPLIT_STRAINS|CLUSTER_SUMMARY` matches process SUMMARY_REPORT
Jul-05 15:48:37.817 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: local
Jul-05 15:48:37.817 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Jul-05 15:48:37.817 [main] DEBUG nextflow.processor.TaskProcessor - Creating process 'SUMMARY_REPORT': maxForks=0; fair=false; array=0
Jul-05 15:48:37.837 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withName:SPLIT_STRAINS` matches process SPLIT_STRAINS
Jul-05 15:48:37.837 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withName:VALIDATE_FASTA|SUMMARY_REPORT|SPLIT_STRAINS|CLUSTER_SUMMARY` matches process SPLIT_STRAINS
Jul-05 15:48:37.838 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: local
Jul-05 15:48:37.838 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Jul-05 15:48:37.839 [main] DEBUG nextflow.processor.TaskProcessor - Creating process 'SPLIT_STRAINS': maxForks=0; fair=false; array=0
Jul-05 15:48:37.853 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withName:SKETCHLIB_DISTS` matches process SKETCHLIB_DISTS
Jul-05 15:48:37.854 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withName:SKETCHLIB_DISTS|GENERATE_NJ|SKA_BUILD|SKA_ALIGN|SKA_MAP|IQ_TREE|GUBBINS|FASTBAPS` matches process SKETCHLIB_DISTS
Jul-05 15:48:37.858 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: local
Jul-05 15:48:37.858 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Jul-05 15:48:37.859 [main] DEBUG nextflow.processor.TaskProcessor - Creating process 'SKETCHLIB_DISTS': maxForks=0; fair=false; array=0
Jul-05 15:48:37.864 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withName:GENERATE_NJ` matches process GENERATE_NJ
Jul-05 15:48:37.865 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withName:SKETCHLIB_DISTS|GENERATE_NJ|SKA_BUILD|SKA_ALIGN|SKA_MAP|IQ_TREE|GUBBINS|FASTBAPS` matches process GENERATE_NJ
Jul-05 15:48:37.866 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: local
Jul-05 15:48:37.866 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Jul-05 15:48:37.866 [main] DEBUG nextflow.processor.TaskProcessor - Creating process 'GENERATE_NJ': maxForks=0; fair=false; array=0
Jul-05 15:48:37.870 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withName:SKA_BUILD` matches process SKA_BUILD
Jul-05 15:48:37.871 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withName:SKETCHLIB_DISTS|GENERATE_NJ|SKA_BUILD|SKA_ALIGN|SKA_MAP|IQ_TREE|GUBBINS|FASTBAPS` matches process SKA_BUILD
Jul-05 15:48:37.872 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: local
Jul-05 15:48:37.872 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Jul-05 15:48:37.873 [main] DEBUG nextflow.processor.TaskProcessor - Creating process 'SKA_BUILD': maxForks=0; fair=false; array=0
Jul-05 15:48:37.877 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withName:SKA_ALIGN` matches process SKA_ALIGN
Jul-05 15:48:37.878 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withName:SKETCHLIB_DISTS|GENERATE_NJ|SKA_BUILD|SKA_ALIGN|SKA_MAP|IQ_TREE|GUBBINS|FASTBAPS` matches process SKA_ALIGN
Jul-05 15:48:37.879 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: local
Jul-05 15:48:37.879 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Jul-05 15:48:37.880 [main] DEBUG nextflow.processor.TaskProcessor - Creating process 'SKA_ALIGN': maxForks=0; fair=false; array=0
Jul-05 15:48:37.884 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withName:SKA_MAP` matches process SKA_MAP
Jul-05 15:48:37.885 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withName:SKETCHLIB_DISTS|GENERATE_NJ|SKA_BUILD|SKA_ALIGN|SKA_MAP|IQ_TREE|GUBBINS|FASTBAPS` matches process SKA_MAP
Jul-05 15:48:37.886 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: local
Jul-05 15:48:37.886 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Jul-05 15:48:37.887 [main] DEBUG nextflow.processor.TaskProcessor - Creating process 'SKA_MAP': maxForks=0; fair=false; array=0
Jul-05 15:48:37.892 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withName:IQ_TREE` matches process IQ_TREE
Jul-05 15:48:37.893 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withName:SKETCHLIB_DISTS|GENERATE_NJ|SKA_BUILD|SKA_ALIGN|SKA_MAP|IQ_TREE|GUBBINS|FASTBAPS` matches process IQ_TREE
Jul-05 15:48:37.894 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: local
Jul-05 15:48:37.894 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Jul-05 15:48:37.894 [main] DEBUG nextflow.processor.TaskProcessor - Creating process 'IQ_TREE': maxForks=0; fair=false; array=0
Jul-05 15:48:37.900 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withName:GUBBINS` matches process GUBBINS
Jul-05 15:48:37.900 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withName:SKETCHLIB_DISTS|GENERATE_NJ|SKA_BUILD|SKA_ALIGN|SKA_MAP|IQ_TREE|GUBBINS|FASTBAPS` matches process GUBBINS
Jul-05 15:48:37.901 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: local
Jul-05 15:48:37.901 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Jul-05 15:48:37.902 [main] DEBUG nextflow.processor.TaskProcessor - Creating process 'GUBBINS': maxForks=0; fair=false; array=0
Jul-05 15:48:37.907 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withName:FASTBAPS` matches process FASTBAPS
Jul-05 15:48:37.907 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withName:SKETCHLIB_DISTS|GENERATE_NJ|SKA_BUILD|SKA_ALIGN|SKA_MAP|IQ_TREE|GUBBINS|FASTBAPS` matches process FASTBAPS
Jul-05 15:48:37.909 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: local
Jul-05 15:48:37.909 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Jul-05 15:48:37.910 [main] DEBUG nextflow.processor.TaskProcessor - Creating process 'FASTBAPS': maxForks=0; fair=false; array=0
Jul-05 15:48:37.916 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withName:CLUSTER_SUMMARY` matches process CLUSTER_SUMMARY
Jul-05 15:48:37.917 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withName:VALIDATE_FASTA|SUMMARY_REPORT|SPLIT_STRAINS|CLUSTER_SUMMARY` matches process CLUSTER_SUMMARY
Jul-05 15:48:37.918 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: local
Jul-05 15:48:37.918 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Jul-05 15:48:37.918 [main] DEBUG nextflow.processor.TaskProcessor - Creating process 'CLUSTER_SUMMARY': maxForks=0; fair=false; array=0
Jul-05 15:48:37.923 [main] DEBUG nextflow.Session - Workflow process names [dsl2]: CLUSTER_SUMMARY, MASH_DIST, MASH_SKETCH, SUMMARY_REPORT, SKA_MAP, GUBBINS, POPPUNK_MODEL, GENERATE_NJ, SPLIT_STRAINS, IQ_TREE, FASTBAPS, BIN_SUBSAMPLE, POPPUNK_ASSIGN, SKA_BUILD, SKETCHLIB_DISTS, SKA_ALIGN, VALIDATE_FASTA
Jul-05 15:48:37.930 [main] DEBUG nextflow.Session - Igniting dataflow network (18)
Jul-05 15:48:37.939 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > VALIDATE_FASTA
Jul-05 15:48:37.940 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > MASH_SKETCH
Jul-05 15:48:37.940 [PathVisitor-1] DEBUG nextflow.file.PathVisitor - files for syntax: glob; folder: ./test_data/; pattern: *.fasta; options: [checkIfExists:true]
Jul-05 15:48:37.941 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > MASH_DIST
Jul-05 15:48:37.941 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > BIN_SUBSAMPLE
Jul-05 15:48:37.941 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > POPPUNK_MODEL
Jul-05 15:48:37.941 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > POPPUNK_ASSIGN
Jul-05 15:48:37.941 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > SUMMARY_REPORT
Jul-05 15:48:37.942 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > SPLIT_STRAINS
Jul-05 15:48:37.942 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > SKETCHLIB_DISTS
Jul-05 15:48:37.942 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > GENERATE_NJ
Jul-05 15:48:37.942 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > SKA_BUILD
Jul-05 15:48:37.942 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > SKA_ALIGN
Jul-05 15:48:37.942 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > SKA_MAP
Jul-05 15:48:37.942 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > IQ_TREE
Jul-05 15:48:37.942 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > GUBBINS
Jul-05 15:48:37.943 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > FASTBAPS
Jul-05 15:48:37.943 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > CLUSTER_SUMMARY
Jul-05 15:48:37.944 [main] DEBUG nextflow.script.ScriptRunner - Parsed script files:
  Script_677dd16b95346779: /home/phemarajata/combined_poppunk_poppipe/modules/local/sketchlib_dists.nf
  Script_7417cabf5d46dadf: /home/phemarajata/combined_poppunk_poppipe/modules/local/mash_dist.nf
  Script_76700f7dcaf7707b: /home/phemarajata/combined_poppunk_poppipe/modules/local/cluster_summary.nf
  Script_7477e1083e159689: /home/phemarajata/combined_poppunk_poppipe/modules/local/fastbaps.nf
  Script_8bd64ce80dadba0f: /home/phemarajata/combined_poppunk_poppipe/modules/local/bin_subsample.nf
  Script_891e0541a8f2d6fb: /home/phemarajata/combined_poppunk_poppipe/modules/local/iq_tree.nf
  Script_44b71d4f2433afd4: /home/phemarajata/combined_poppunk_poppipe/modules/local/split_strains.nf
  Script_a1ab2c7ded95b477: /home/phemarajata/combined_poppunk_poppipe/modules/local/ska_align.nf
  Script_6c8e74bc7db61953: /home/phemarajata/combined_poppunk_poppipe/modules/local/summary_report.nf
  Script_e67f2187490eca95: /home/phemarajata/combined_poppunk_poppipe/modules/local/poppunk_model.nf
  Script_af0f02598d046699: /home/phemarajata/combined_poppunk_poppipe/modules/local/gubbins.nf
  Script_09945ad10bc74bcc: /home/phemarajata/combined_poppunk_poppipe/modules/local/generate_nj.nf
  Script_e47589c9cace8ded: /home/phemarajata/combined_poppunk_poppipe/main.nf
  Script_300c7946cb49b7c2: /home/phemarajata/combined_poppunk_poppipe/modules/local/validate_fasta.nf
  Script_738804b76b5e015c: /home/phemarajata/combined_poppunk_poppipe/modules/local/poppunk_assign.nf
  Script_12bfbeedcd9a399d: /home/phemarajata/combined_poppunk_poppipe/modules/local/ska_map.nf
  Script_0479f6cbd4bfc016: /home/phemarajata/combined_poppunk_poppipe/modules/local/ska_build.nf
  Script_2a94688d5202e40d: /home/phemarajata/combined_poppunk_poppipe/modules/local/mash_sketch.nf
Jul-05 15:48:37.944 [main] DEBUG nextflow.script.ScriptRunner - > Awaiting termination 
Jul-05 15:48:37.944 [main] DEBUG nextflow.Session - Session await
Jul-05 15:48:38.083 [Actor Thread 15] INFO  nextflow.processor.TaskProcessor - [07/887d4c] Cached process > VALIDATE_FASTA (validate_fasta)
Jul-05 15:48:38.086 [Actor Thread 15] DEBUG nextflow.Session - Cannot invoke "groovyx.gpars.agent.Agent.send(Object)" because "this.writer" is null
java.lang.NullPointerException: Cannot invoke "groovyx.gpars.agent.Agent.send(Object)" because "this.writer" is null
	at nextflow.trace.TraceFileObserver.onProcessCached(TraceFileObserver.groovy:281)
	at nextflow.Session$_notifyTaskCached_lambda36.doCall(Session.groovy:1075)
	at nextflow.Session.notifyEvent(Session.groovy:1138)
	at nextflow.Session.notifyTaskCached(Session.groovy:1075)
	at org.codehaus.groovy.vmplugin.v8.IndyInterface.fromCache(IndyInterface.java:321)
	at nextflow.processor.TaskProcessor.checkCachedOutput(TaskProcessor.groovy:982)
	at nextflow.processor.TaskProcessor.checkCachedOrLaunchTask(TaskProcessor.groovy:815)
	at org.codehaus.groovy.vmplugin.v8.IndyInterface.fromCache(IndyInterface.java:321)
	at nextflow.processor.TaskProcessor.invokeTask(TaskProcessor.groovy:657)
	at nextflow.processor.InvokeTaskAdapter.call(InvokeTaskAdapter.groovy:52)
	at groovyx.gpars.dataflow.operator.DataflowOperatorActor.startTask(DataflowOperatorActor.java:120)
	at groovyx.gpars.dataflow.operator.ForkingDataflowOperatorActor.access$001(ForkingDataflowOperatorActor.java:35)
	at groovyx.gpars.dataflow.operator.ForkingDataflowOperatorActor$1.run(ForkingDataflowOperatorActor.java:58)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:842)
Jul-05 15:48:38.097 [Actor Thread 20] INFO  nextflow.script.BaseScript - 
==================================================
Jul-05 15:48:38.098 [Actor Thread 20] INFO  nextflow.script.BaseScript - 📋 FASTA VALIDATION REPORT
Jul-05 15:48:38.098 [Actor Thread 20] INFO  nextflow.script.BaseScript - ==================================================
Jul-05 15:48:38.099 [Actor Thread 20] INFO  nextflow.script.BaseScript - FASTA Validation Report
======================
Total files processed: 21
Valid files: 21
Invalid files: 0

Valid files (with absolute paths):
  ✓ /home/phemarajata/combined_poppunk_poppipe/test_data/genome_cluster2_3.fasta
  ✓ /home/phemarajata/combined_poppunk_poppipe/test_data/genome_cluster1_4.fasta
  ✓ /home/phemarajata/combined_poppunk_poppipe/test_data/outlier_3.fasta
  ✓ /home/phemarajata/combined_poppunk_poppipe/test_data/genome_cluster2_6.fasta
  ✓ /home/phemarajata/combined_poppunk_poppipe/test_data/genome_cluster1_1.fasta
  ✓ /home/phemarajata/combined_poppunk_poppipe/test_data/genome_cluster1_7.fasta
  ✓ /home/phemarajata/combined_poppunk_poppipe/test_data/genome_cluster2_5.fasta
  ✓ /home/phemarajata/combined_poppunk_poppipe/test_data/genome_cluster3_2.fasta
  ✓ /home/phemarajata/combined_poppunk_poppipe/test_data/genome_cluster2_2.fasta
  ✓ /home/phemarajata/combined_poppunk_poppipe/test_data/genome_cluster2_4.fasta
  ✓ /home/phemarajata/combined_poppunk_poppipe/test_data/genome_cluster1_6.fasta
  ✓ /home/phemarajata/combined_poppunk_poppipe/test_data/genome_cluster3_4.fasta
  ✓ /home/phemarajata/combined_poppunk_poppipe/test_data/genome_cluster1_3.fasta
  ✓ /home/phemarajata/combined_poppunk_poppipe/test_data/genome_cluster2_1.fasta
  ✓ /home/phemarajata/combined_poppunk_poppipe/test_data/outlier_2.fasta
  ✓ /home/phemarajata/combined_poppunk_poppipe/test_data/outlier_1.fasta
  ✓ /home/phemarajata/combined_poppunk_poppipe/test_data/genome_cluster1_5.fasta
  ✓ /home/phemarajata/combined_poppunk_poppipe/test_data/genome_cluster1_8.fasta
  ✓ /home/phemarajata/combined_poppunk_poppipe/test_data/genome_cluster3_3.fasta
  ✓ /home/phemarajata/combined_poppunk_poppipe/test_data/genome_cluster3_1.fasta
  ✓ /home/phemarajata/combined_poppunk_poppipe/test_data/genome_cluster1_2.fasta


Jul-05 15:48:38.099 [Actor Thread 20] INFO  nextflow.script.BaseScript - ==================================================

Jul-05 15:48:38.112 [Actor Thread 15] DEBUG nextflow.util.ThreadPoolBuilder - Creating thread pool 'PublishDir' minSize=10; maxSize=66; workQueue=LinkedBlockingQueue[-1]; allowCoreThreadTimeout=false
Jul-05 15:48:38.124 [Actor Thread 19] INFO  nextflow.processor.TaskProcessor - [db/7ea943] Cached process > MASH_SKETCH (mash_sketch)
Jul-05 15:48:38.124 [Actor Thread 19] DEBUG nextflow.Session - Cannot invoke "groovyx.gpars.agent.Agent.send(Object)" because "this.writer" is null
java.lang.NullPointerException: Cannot invoke "groovyx.gpars.agent.Agent.send(Object)" because "this.writer" is null
	at nextflow.trace.TraceFileObserver.onProcessCached(TraceFileObserver.groovy:281)
	at nextflow.Session$_notifyTaskCached_lambda36.doCall(Session.groovy:1075)
	at nextflow.Session.notifyEvent(Session.groovy:1138)
	at nextflow.Session.notifyTaskCached(Session.groovy:1075)
	at org.codehaus.groovy.vmplugin.v8.IndyInterface.fromCache(IndyInterface.java:321)
	at nextflow.processor.TaskProcessor.checkCachedOutput(TaskProcessor.groovy:982)
	at nextflow.processor.TaskProcessor.checkCachedOrLaunchTask(TaskProcessor.groovy:815)
	at org.codehaus.groovy.vmplugin.v8.IndyInterface.fromCache(IndyInterface.java:321)
	at nextflow.processor.TaskProcessor.invokeTask(TaskProcessor.groovy:657)
	at nextflow.processor.InvokeTaskAdapter.call(InvokeTaskAdapter.groovy:52)
	at groovyx.gpars.dataflow.operator.DataflowOperatorActor.startTask(DataflowOperatorActor.java:120)
	at groovyx.gpars.dataflow.operator.ForkingDataflowOperatorActor.access$001(ForkingDataflowOperatorActor.java:35)
	at groovyx.gpars.dataflow.operator.ForkingDataflowOperatorActor$1.run(ForkingDataflowOperatorActor.java:58)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:842)
Jul-05 15:48:38.132 [Actor Thread 15] INFO  nextflow.processor.TaskProcessor - [db/5d8353] Cached process > MASH_DIST (mash_dist)
Jul-05 15:48:38.132 [Actor Thread 15] DEBUG nextflow.Session - Cannot invoke "groovyx.gpars.agent.Agent.send(Object)" because "this.writer" is null
java.lang.NullPointerException: Cannot invoke "groovyx.gpars.agent.Agent.send(Object)" because "this.writer" is null
	at nextflow.trace.TraceFileObserver.onProcessCached(TraceFileObserver.groovy:281)
	at nextflow.Session$_notifyTaskCached_lambda36.doCall(Session.groovy:1075)
	at nextflow.Session.notifyEvent(Session.groovy:1138)
	at nextflow.Session.notifyTaskCached(Session.groovy:1075)
	at org.codehaus.groovy.vmplugin.v8.IndyInterface.fromCache(IndyInterface.java:321)
	at nextflow.processor.TaskProcessor.checkCachedOutput(TaskProcessor.groovy:982)
	at nextflow.processor.TaskProcessor.checkCachedOrLaunchTask(TaskProcessor.groovy:815)
	at org.codehaus.groovy.vmplugin.v8.IndyInterface.fromCache(IndyInterface.java:321)
	at nextflow.processor.TaskProcessor.invokeTask(TaskProcessor.groovy:657)
	at nextflow.processor.InvokeTaskAdapter.call(InvokeTaskAdapter.groovy:52)
	at groovyx.gpars.dataflow.operator.DataflowOperatorActor.startTask(DataflowOperatorActor.java:120)
	at groovyx.gpars.dataflow.operator.ForkingDataflowOperatorActor.access$001(ForkingDataflowOperatorActor.java:35)
	at groovyx.gpars.dataflow.operator.ForkingDataflowOperatorActor$1.run(ForkingDataflowOperatorActor.java:58)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:842)
Jul-05 15:48:38.199 [Task submitter] DEBUG n.executor.local.LocalTaskHandler - Launch cmd line: /bin/bash -ue .command.run
Jul-05 15:48:38.201 [Task submitter] INFO  nextflow.Session - [41/24ff24] Submitted process > BIN_SUBSAMPLE (bin_subsample)
Jul-05 15:48:39.613 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[id: 4; name: BIN_SUBSAMPLE (bin_subsample); status: COMPLETED; exit: 1; error: -; workDir: /home/phemarajata/combined_poppunk_poppipe/work/41/24ff24cfa9f741002aa28f25880705]
Jul-05 15:48:39.613 [Task monitor] DEBUG nextflow.util.ThreadPoolBuilder - Creating thread pool 'TaskFinalizer' minSize=10; maxSize=66; workQueue=LinkedBlockingQueue[-1]; allowCoreThreadTimeout=false
Jul-05 15:48:39.624 [TaskFinalizer-1] DEBUG nextflow.processor.TaskProcessor - Handling unexpected condition for
  task: name=BIN_SUBSAMPLE (bin_subsample); work-dir=/home/phemarajata/combined_poppunk_poppipe/work/41/24ff24cfa9f741002aa28f25880705
  error [nextflow.exception.ProcessFailedException]: Process `BIN_SUBSAMPLE (bin_subsample)` terminated with an error exit status (1)
Jul-05 15:48:39.632 [TaskFinalizer-1] INFO  nextflow.processor.TaskProcessor - [41/24ff24] NOTE: Process `BIN_SUBSAMPLE (bin_subsample)` terminated with an error exit status (1) -- Execution is retried (1)
Jul-05 15:48:39.636 [TaskFinalizer-1] DEBUG nextflow.Session - Cannot invoke "groovyx.gpars.agent.Agent.send(Object)" because "this.writer" is null
java.lang.NullPointerException: Cannot invoke "groovyx.gpars.agent.Agent.send(Object)" because "this.writer" is null
	at nextflow.trace.TraceFileObserver.onProcessComplete(TraceFileObserver.groovy:270)
	at nextflow.Session$_notifyTaskComplete_lambda34.doCall(Session.groovy:1063)
	at nextflow.Session.notifyEvent(Session.groovy:1138)
	at nextflow.Session.notifyTaskComplete(Session.groovy:1063)
	at nextflow.processor.TaskPollingMonitor.finalizeTask(TaskPollingMonitor.groovy:699)
	at nextflow.processor.TaskPollingMonitor.safeFinalizeTask(TaskPollingMonitor.groovy:686)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:343)
	at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:328)
	at groovy.lang.MetaClassImpl.doInvokeMethod(MetaClassImpl.java:1333)
	at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1088)
	at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1007)
	at org.codehaus.groovy.runtime.InvokerHelper.invokePogoMethod(InvokerHelper.java:645)
	at org.codehaus.groovy.runtime.InvokerHelper.invokeMethod(InvokerHelper.java:628)
	at org.codehaus.groovy.runtime.InvokerHelper.invokeMethodSafe(InvokerHelper.java:82)
	at nextflow.processor.TaskPollingMonitor$_checkTaskStatus_lambda8.doCall(TaskPollingMonitor.groovy:676)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:842)
Jul-05 15:48:39.640 [Task submitter] DEBUG n.executor.local.LocalTaskHandler - Launch cmd line: /bin/bash -ue .command.run
Jul-05 15:48:39.641 [Task submitter] INFO  nextflow.Session - [1f/0d6ad5] Re-submitted process > BIN_SUBSAMPLE (bin_subsample)
Jul-05 15:48:41.066 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[id: 5; name: BIN_SUBSAMPLE (bin_subsample); status: COMPLETED; exit: 1; error: -; workDir: /home/phemarajata/combined_poppunk_poppipe/work/1f/0d6ad564f9e27e7670e58d5c3cc054]
Jul-05 15:48:41.068 [TaskFinalizer-2] DEBUG nextflow.processor.TaskProcessor - Handling unexpected condition for
  task: name=BIN_SUBSAMPLE (bin_subsample); work-dir=/home/phemarajata/combined_poppunk_poppipe/work/1f/0d6ad564f9e27e7670e58d5c3cc054
  error [nextflow.exception.ProcessFailedException]: Process `BIN_SUBSAMPLE (bin_subsample)` terminated with an error exit status (1)
Jul-05 15:48:41.069 [TaskFinalizer-2] INFO  nextflow.processor.TaskProcessor - [1f/0d6ad5] NOTE: Process `BIN_SUBSAMPLE (bin_subsample)` terminated with an error exit status (1) -- Execution is retried (2)
Jul-05 15:48:41.070 [TaskFinalizer-2] DEBUG nextflow.Session - Cannot invoke "groovyx.gpars.agent.Agent.send(Object)" because "this.writer" is null
java.lang.NullPointerException: Cannot invoke "groovyx.gpars.agent.Agent.send(Object)" because "this.writer" is null
	at nextflow.trace.TraceFileObserver.onProcessComplete(TraceFileObserver.groovy:270)
	at nextflow.Session$_notifyTaskComplete_lambda34.doCall(Session.groovy:1063)
	at nextflow.Session.notifyEvent(Session.groovy:1138)
	at nextflow.Session.notifyTaskComplete(Session.groovy:1063)
	at nextflow.processor.TaskPollingMonitor.finalizeTask(TaskPollingMonitor.groovy:699)
	at nextflow.processor.TaskPollingMonitor.safeFinalizeTask(TaskPollingMonitor.groovy:686)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:343)
	at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:328)
	at groovy.lang.MetaClassImpl.doInvokeMethod(MetaClassImpl.java:1333)
	at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1088)
	at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1007)
	at org.codehaus.groovy.runtime.InvokerHelper.invokePogoMethod(InvokerHelper.java:645)
	at org.codehaus.groovy.runtime.InvokerHelper.invokeMethod(InvokerHelper.java:628)
	at org.codehaus.groovy.runtime.InvokerHelper.invokeMethodSafe(InvokerHelper.java:82)
	at nextflow.processor.TaskPollingMonitor$_checkTaskStatus_lambda8.doCall(TaskPollingMonitor.groovy:676)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:842)
Jul-05 15:48:41.074 [Task submitter] DEBUG n.executor.local.LocalTaskHandler - Launch cmd line: /bin/bash -ue .command.run
Jul-05 15:48:41.074 [Task submitter] INFO  nextflow.Session - [33/12ebb0] Re-submitted process > BIN_SUBSAMPLE (bin_subsample)
Jul-05 15:48:42.519 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[id: 6; name: BIN_SUBSAMPLE (bin_subsample); status: COMPLETED; exit: 1; error: -; workDir: /home/phemarajata/combined_poppunk_poppipe/work/33/12ebb05d01ed45c1f214f3a761db95]
Jul-05 15:48:42.521 [TaskFinalizer-3] DEBUG nextflow.processor.TaskProcessor - Handling unexpected condition for
  task: name=BIN_SUBSAMPLE (bin_subsample); work-dir=/home/phemarajata/combined_poppunk_poppipe/work/33/12ebb05d01ed45c1f214f3a761db95
  error [nextflow.exception.ProcessFailedException]: Process `BIN_SUBSAMPLE (bin_subsample)` terminated with an error exit status (1)
Jul-05 15:48:42.528 [TaskFinalizer-3] ERROR nextflow.processor.TaskProcessor - Error executing process > 'BIN_SUBSAMPLE (bin_subsample)'

Caused by:
  Process `BIN_SUBSAMPLE (bin_subsample)` terminated with an error exit status (1)


Command executed:

  pip install --quiet networkx
      python - << 'PY'
  import networkx as nx, random, sys, pathlib, os
  
  print("Building similarity graph from MASH distances...")
  
  # This is the absolute path to your main input directory
  input_dir = "./test_data"
  
  G = nx.Graph()
  # Process the mash distance file - files are now relative filenames
  for line in open('mash.dist'):
      a, b, d, *_ = line.split()
      if float(d) < 0.01:
          G.add_edge(a, b)
  
  print(f"Graph built with {G.number_of_nodes()} nodes and {G.number_of_edges()} edges")
  print(f"Found {nx.number_connected_components(G)} connected components")
  
  # Analyze component sizes for debugging
  component_sizes = [len(comp) for comp in nx.connected_components(G)]
  component_sizes.sort(reverse=True)
  print(f"Component sizes: {component_sizes[:10]}")  # Show top 10 component sizes
  print(f"Largest component has {max(component_sizes) if component_sizes else 0} genomes")
  print(f"Average component size: {sum(component_sizes)/len(component_sizes) if component_sizes else 0:.1f}")
  
  with open('subset.list','w') as out:
      total_selected = 0
      for i, comp in enumerate(nx.connected_components(G)):
          comp = list(comp)
          # Optimized subsampling for better cluster resolution: take fewer but more diverse representatives
          k = min(100, max(10, int(len(comp) * 0.15)))
          k = min(k, len(comp))
          if k > 0:
              selected = random.sample(comp, k)
              for filename in selected:
                  # Create a sample name from the filename
                  sample_name = os.path.splitext(filename)[0]
                  # Create the full absolute path for PopPUNK to use
                  full_path = os.path.join(input_dir, filename)
                  out.write(f"{sample_name}\t{full_path}\n")
                  total_selected += 1
          print(f"Component {i+1}: {len(comp)} genomes -> selected {k} representatives")
  
  print(f"Total genomes selected for PopPUNK modeling: {total_selected}")
  PY

Command exit status:
  1

Command output:
  (empty)

Command error:
  WARNING: The directory '/.cache/pip' or its parent directory is not owned or is not writable by the current user. The cache has been disabled. Check the permissions and owner of that directory. If executing pip with sudo, you should use sudo's -H flag.
  ERROR: Could not install packages due to an OSError: [Errno 13] Permission denied: '/.local'
  Check the permissions.
  
  
  [notice] A new release of pip is available: 23.0.1 -> 25.1.1
  [notice] To update, run: pip install --upgrade pip

Work dir:
  /home/phemarajata/combined_poppunk_poppipe/work/33/12ebb05d01ed45c1f214f3a761db95

Container:
  python:3.9

Tip: when you have fixed the problem you can continue the execution adding the option `-resume` to the run command line
Jul-05 15:48:42.531 [TaskFinalizer-3] DEBUG nextflow.Session - Cannot invoke "groovyx.gpars.agent.Agent.send(Object)" because "this.writer" is null
java.lang.NullPointerException: Cannot invoke "groovyx.gpars.agent.Agent.send(Object)" because "this.writer" is null
	at nextflow.trace.TraceFileObserver.onProcessComplete(TraceFileObserver.groovy:270)
	at nextflow.Session$_notifyTaskComplete_lambda34.doCall(Session.groovy:1063)
	at nextflow.Session.notifyEvent(Session.groovy:1138)
	at nextflow.Session.notifyTaskComplete(Session.groovy:1063)
	at nextflow.processor.TaskPollingMonitor.finalizeTask(TaskPollingMonitor.groovy:699)
	at nextflow.processor.TaskPollingMonitor.safeFinalizeTask(TaskPollingMonitor.groovy:686)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:343)
	at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:328)
	at groovy.lang.MetaClassImpl.doInvokeMethod(MetaClassImpl.java:1333)
	at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1088)
	at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1007)
	at org.codehaus.groovy.runtime.InvokerHelper.invokePogoMethod(InvokerHelper.java:645)
	at org.codehaus.groovy.runtime.InvokerHelper.invokeMethod(InvokerHelper.java:628)
	at org.codehaus.groovy.runtime.InvokerHelper.invokeMethodSafe(InvokerHelper.java:82)
	at nextflow.processor.TaskPollingMonitor$_checkTaskStatus_lambda8.doCall(TaskPollingMonitor.groovy:676)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:842)
Jul-05 15:48:42.531 [main] DEBUG nextflow.Session - Session await > all processes finished
Jul-05 15:48:42.532 [TaskFinalizer-3] DEBUG nextflow.Session - Session aborted -- Cause: Process `BIN_SUBSAMPLE (bin_subsample)` terminated with an error exit status (1)
Jul-05 15:48:42.543 [Task monitor] DEBUG n.processor.TaskPollingMonitor - <<< barrier arrives (monitor: local) - terminating tasks monitor poll loop
Jul-05 15:48:42.543 [main] DEBUG nextflow.Session - Session await > all barriers passed
Jul-05 15:48:42.545 [main] INFO  nextflow.script.BaseScript - 
╔══════════════════════════════════════════════════════════════════════════════╗
║                    COMBINED POPPUNK + POPPIPE PIPELINE                       ║
║                                 COMPLETED                                    ║
╠══════════════════════════════════════════════════════════════════════════════╣
║ Phase 1 (PopPUNK): Bacterial genome clustering completed                    ║
║ Phase 2 (PopPIPE): Downstream analysis and subclustering completed          ║
║                                                                              ║
║ Results available in: ./test_results                                  ║
║                                                                              ║
║ Key outputs:                                                                 ║
║ - PopPUNK clusters: poppunk_full/full_assign.csv                           ║
║ - PopPIPE subclusters: output/all_clusters.txt                             ║
║ - Summary reports: summary/pipeline_summary.txt                             ║
╚══════════════════════════════════════════════════════════════════════════════╝

Jul-05 15:48:42.549 [main] DEBUG n.trace.WorkflowStatsObserver - Workflow completed > WorkflowStats[succeededCount=0; failedCount=3; ignoredCount=0; cachedCount=3; pendingCount=0; submittedCount=0; runningCount=0; retriesCount=2; abortedCount=0; succeedDuration=0ms; failedDuration=8.2s; cachedDuration=304ms;loadCpus=0; loadMemory=0; peakRunning=1; peakCpus=2; peakMemory=4 GB; ]
Jul-05 15:48:42.549 [main] DEBUG nextflow.trace.TraceFileObserver - Workflow completed -- saving trace file
Jul-05 15:48:42.549 [main] DEBUG nextflow.Session - Cannot invoke "groovyx.gpars.agent.Agent.await()" because "this.writer" is null
java.lang.NullPointerException: Cannot invoke "groovyx.gpars.agent.Agent.await()" because "this.writer" is null
	at nextflow.trace.TraceFileObserver.onFlowComplete(TraceFileObserver.groovy:221)
	at nextflow.Session$_notifyFlowComplete_lambda45.doCall(Session.groovy:1107)
	at nextflow.Session.notifyEvent(Session.groovy:1138)
	at nextflow.Session.notifyFlowComplete(Session.groovy:1107)
	at nextflow.Session.shutdown0(Session.groovy:768)
	at nextflow.Session.destroy(Session.groovy:713)
	at nextflow.script.ScriptRunner.shutdown(ScriptRunner.groovy:263)
	at nextflow.script.ScriptRunner.execute(ScriptRunner.groovy:147)
	at nextflow.cli.CmdRun.run(CmdRun.groovy:379)
	at nextflow.cli.Launcher.run(Launcher.groovy:513)
	at nextflow.cli.Launcher.main(Launcher.groovy:673)
Jul-05 15:48:42.549 [main] DEBUG nextflow.trace.ReportObserver - Workflow completed -- rendering execution report
Jul-05 15:48:42.827 [main] WARN  nextflow.trace.ReportObserver - Failed to render execution report -- see the log file for details
nextflow.exception.AbortOperationException: Report file already exists: /home/phemarajata/combined_poppunk_poppipe/test_results/reports/execution_report.html -- enable the 'report.overwrite' option in your config file to overwrite existing files
	at nextflow.trace.TraceHelper.newFileWriter(TraceHelper.groovy:67)
	at nextflow.trace.ReportObserver.renderHtml(ReportObserver.groovy:284)
	at nextflow.trace.ReportObserver.onFlowComplete(ReportObserver.groovy:143)
	at nextflow.Session$_notifyFlowComplete_lambda45.doCall(Session.groovy:1107)
	at nextflow.Session.notifyEvent(Session.groovy:1138)
	at nextflow.Session.notifyFlowComplete(Session.groovy:1107)
	at nextflow.Session.shutdown0(Session.groovy:768)
	at nextflow.Session.destroy(Session.groovy:713)
	at nextflow.script.ScriptRunner.shutdown(ScriptRunner.groovy:263)
	at nextflow.script.ScriptRunner.execute(ScriptRunner.groovy:147)
	at nextflow.cli.CmdRun.run(CmdRun.groovy:379)
	at nextflow.cli.Launcher.run(Launcher.groovy:513)
	at nextflow.cli.Launcher.main(Launcher.groovy:673)
Caused by: java.nio.file.FileAlreadyExistsException: /home/phemarajata/combined_poppunk_poppipe/test_results/reports/execution_report.html
	at java.base/sun.nio.fs.UnixException.translateToIOException(UnixException.java:94)
	at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:106)
	at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:111)
	at java.base/sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:218)
	at java.base/java.nio.file.spi.FileSystemProvider.newOutputStream(FileSystemProvider.java:484)
	at java.base/java.nio.file.Files.newOutputStream(Files.java:228)
	at java.base/java.nio.file.Files.newBufferedWriter(Files.java:3008)
	at nextflow.trace.TraceHelper.newFileWriter(TraceHelper.groovy:64)
	... 12 common frames omitted
Jul-05 15:48:42.828 [main] DEBUG nextflow.trace.TimelineObserver - Workflow completed -- rendering execution timeline
Jul-05 15:48:42.861 [main] WARN  nextflow.trace.TimelineObserver - Failed to render execution timeline -- see the log file for details
nextflow.exception.AbortOperationException: Timeline file already exists: /home/phemarajata/combined_poppunk_poppipe/test_results/reports/timeline.html -- enable the 'timeline.overwrite' option in your config file to overwrite existing files
	at nextflow.trace.TraceHelper.newFileWriter(TraceHelper.groovy:67)
	at nextflow.trace.TimelineObserver.renderHtml(TimelineObserver.groovy:178)
	at nextflow.trace.TimelineObserver.onFlowComplete(TimelineObserver.groovy:87)
	at nextflow.Session$_notifyFlowComplete_lambda45.doCall(Session.groovy:1107)
	at nextflow.Session.notifyEvent(Session.groovy:1138)
	at nextflow.Session.notifyFlowComplete(Session.groovy:1107)
	at nextflow.Session.shutdown0(Session.groovy:768)
	at nextflow.Session.destroy(Session.groovy:713)
	at nextflow.script.ScriptRunner.shutdown(ScriptRunner.groovy:263)
	at nextflow.script.ScriptRunner.execute(ScriptRunner.groovy:147)
	at nextflow.cli.CmdRun.run(CmdRun.groovy:379)
	at nextflow.cli.Launcher.run(Launcher.groovy:513)
	at nextflow.cli.Launcher.main(Launcher.groovy:673)
Caused by: java.nio.file.FileAlreadyExistsException: /home/phemarajata/combined_poppunk_poppipe/test_results/reports/timeline.html
	at java.base/sun.nio.fs.UnixException.translateToIOException(UnixException.java:94)
	at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:106)
	at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:111)
	at java.base/sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:218)
	at java.base/java.nio.file.spi.FileSystemProvider.newOutputStream(FileSystemProvider.java:484)
	at java.base/java.nio.file.Files.newOutputStream(Files.java:228)
	at java.base/java.nio.file.Files.newBufferedWriter(Files.java:3008)
	at nextflow.trace.TraceHelper.newFileWriter(TraceHelper.groovy:64)
	... 12 common frames omitted
Jul-05 15:48:42.886 [main] DEBUG nextflow.cache.CacheDB - Closing CacheDB done
Jul-05 15:48:42.893 [main] DEBUG nextflow.script.ScriptRunner - > Execution complete -- Goodbye
